{{ template "_header.html" . }}

<!-- top nav bar -->
<div style="height:2.5rem; position:fixed; top:0; bottom:0; left:0; right:0; z-index:2; background-color:var(--thm-bg-a); backdrop-filter: blur(10px);">
    <img class="align-center-horizontal" style="height:2.5rem; padding:0.5rem;" src="/resources2/images/sparker_code_transp_large.png">

    <div x-data style="position:fixed; top:0; right:0; height:2rem; width:100%; display:flex;">
        <a href="/" style="margin-right:auto;">
            <i style="padding:0.7rem; font-size:1.25rem; padding-left:1rem;" class="fa-solid fa-angle-left"></i>
        </a>
    </div>
</div>

<script>
    function course_new_fixLinkName() {
        let course_new_name = document.getElementById("course_new_name").value;
        course_new_name = course_new_name.toLowerCase();
        let fixedLinkString = "";

        for (let i = 0; i < course_new_name.length; i++) {
        fixedLinkString += course_new_allowedCharacter(course_new_name[i]);
        }


        document.getElementById("course_new_name").value = fixedLinkString;
    }

    function course_new_allowedCharacter(char) {
        let allowed = "abcdefghijklmnopqrstuvwxyz1234567890-";

        if (char === " ") {
            return "-";
        }

        if (allowed.includes(char)) {
            return char;
        }

        return "";
    }
</script>

<div class="align-center-horizontal" style="width:600px; max-width:100%; padding:1rem;">
    <div x-data="{ name: '', title: '' }">
        <div style="text-align:center; margin-top:5rem; margin-bottom:5rem;">
            <h1 x-text="title" style="min-height:3rem;"></h1>
            <div>
                <a x-bind:href="'sparker3d.com/paper/' + name">sparker3d.com/paper/<span x-text="name"></span></a>
            </div>
        </div>
        <div>
            <form action="/new" method="post">
                <div style="margin-bottom:1rem;">
                    <div style="color:grey; font-weight:600; font-size:0.8rem; padding:0.1rem;">COURSE TITLE</div>
                    <input name="title" placeholder="Title" x-model="title" class="utls-bd thm-overlay">
                </div>
                <div style="margin-bottom:1rem;">
                    <div style="color:grey; font-weight:600; font-size:0.8rem; padding:0.1rem;">COURSE URL NAME</div>
                    <input name="name" placeholder="Name" id="course_new_name" onchange="course_new_fixLinkName()" x-model="name" class="utls-bd thm-overlay">
                </div>
                <div style="display:flex; flex-direction:row;">
                    <button type="submit" style="padding:1rem; margin-left:auto;" class="utls-bd thm-bg-hl">Create</button>
                </div>
            </form>
        </div>
    </div>
</div>

{{ template "_footer.html" . }}